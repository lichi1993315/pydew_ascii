# 日志面板使用说明

## 🎯 功能概述

日志面板是一个全面的玩家行为记录和查看系统，能够实时追踪和显示玩家在游戏中的所有行为。

## 🎮 如何使用

### 基本操作
- **打开/关闭日志面板**：按 `L` 键
- **滚动日志**：`↑↓` 方向键 或 `W/S` 键
- **筛选日志类型**：`Tab` 键循环切换
- **跳转到顶部**：`Home` 键
- **跳转到底部**：`End` 键

### 日志筛选类型
- **全部**：显示所有类型的行为记录
- **fishing**：钓鱼相关行为
- **dialogue**：与NPC对话记录
- **shop**：商店买卖交易
- **quest**：任务系统记录
- **farming**：农业活动（种植、收获）
- **tool_use**：工具使用记录
- **tool_switch**：工具切换记录
- **seed_switch**：种子切换记录

## 📊 记录的行为类型

### 🎣 钓鱼行为
- 开始钓鱼
- 钓鱼成功（包含鱼类品种、长度、价格等详细信息）
- 钓鱼失败

### 💬 对话行为
- 与各类NPC的对话内容
- 玩家选择的对话选项
- NPC的回复信息

### 🛒 商店行为
- 购买物品（物品名称、数量、价格）
- 出售物品（包括鱼类的详细信息）
- 交易前后的金钱变化

### 📋 任务行为
- 接受新任务
- 完成任务
- 获得的奖励详情

### 🌱 农业行为
- 种植种子
- 使用农具（锄头、斧头、水壶）
- 目标位置记录

### ⚙️ 系统行为
- 工具切换
- 种子切换
- 进入睡眠状态

## 📈 面板显示信息

### 头部信息
- 总记录数量
- 游戏时长
- 当前筛选类型

### 日志条目格式
```
序号. [时间戳] 行为类型: 行为描述
    详情: 相关详细信息
```

### 颜色编码
- **蓝色**：钓鱼行为
- **橙色**：对话行为  
- **绿色**：商店行为
- **黄色**：任务行为
- **浅绿色**：农业行为
- **紫色**：工具使用
- **粉色**：工具切换
- **浅蓝色**：睡眠行为

## 🔧 开发者接口

### 主要方法
```python
# 手动记录行为
player.record_behavior(behavior_type, action, details)

# 查看行为历史
player.print_behavior_history(behavior_type, limit)

# 获取统计信息
stats = player.get_behavior_statistics()

# 导出历史数据
data = player.export_behavior_history()
```

### 示例记录格式
```python
{
    "timestamp": "2024-01-15 14:30:25",
    "type": "fishing",
    "action": "钓到了鲤鱼", 
    "details": {
        "fish_caught": "鲤鱼",
        "fish_length": 28,
        "fish_rarity": "common",
        "fish_price": 15
    },
    "player_position": (640, 360),
    "player_money": 215
}
```

## 🎯 使用场景

1. **游戏分析**：了解玩家行为模式和偏好
2. **调试工具**：追踪游戏状态变化和问题
3. **成就系统**：基于行为历史解锁成就
4. **AI训练**：为游戏AI提供行为数据
5. **个性化推荐**：根据历史行为推荐内容

## 💾 数据管理

- **内存优化**：自动限制历史记录数量（默认500条）
- **实时记录**：所有行为都会立即记录
- **持久化**：可通过export方法导出完整数据 